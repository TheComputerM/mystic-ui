{"id":"dock","content":"import {\n\ttype Accessor,\n\ttype JSX,\n\ttype ParentComponent,\n\tcreateContext,\n\tcreateSignal,\n\tmergeProps,\n\tsplitProps,\n\tuseContext,\n} from \"solid-js\";\nimport { css, cx } from \"styled-system/css\";\n\nexport interface DockProps extends JSX.HTMLAttributes<HTMLDivElement> {\n\tmagnification?: number;\n\tdistance?: number;\n}\n\nconst DockContext = createContext<{\n\tmouseX: Accessor<number>;\n\tmagnification: number;\n\tdistance: number;\n}>();\n\nexport const Dock: ParentComponent<DockProps> = (props) => {\n\tconst [_localProps, forwardProps] = splitProps(props, [\"class\", \"children\"]);\n\tconst localProps = mergeProps(\n\t\t{ magnification: 60, distance: 150 },\n\t\t_localProps,\n\t);\n\tconst [mouseX, setMouseX] = createSignal(Number.POSITIVE_INFINITY);\n\n\treturn (\n\t\t<div\n\t\t\tclass={cx(\n\t\t\t\tcss({\n\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\talignItems: \"flex-end\",\n\t\t\t\t\theight: \"58px\",\n\t\t\t\t\twidth: \"max\",\n\t\t\t\t\tgap: \"2\",\n\t\t\t\t\tborderRadius: \"2xl\",\n\t\t\t\t\tborderWidth: \"1px\",\n\t\t\t\t\tborderColor: \"neutral.300\",\n\t\t\t\t\t_dark: { borderColor: \"neutral.700\" },\n\t\t\t\t\tpadding: \"2\",\n\t\t\t\t\tbackdropFilter: \"auto\",\n\t\t\t\t\tbackdropBlur: \"md\",\n\t\t\t\t}),\n\t\t\t\tlocalProps.class,\n\t\t\t)}\n\t\t\t{...forwardProps}\n\t\t\tonMouseMove={(e) => setMouseX(e.pageX)}\n\t\t\tonMouseLeave={() => setMouseX(Number.POSITIVE_INFINITY)}\n\t\t>\n\t\t\t<DockContext.Provider\n\t\t\t\tvalue={{\n\t\t\t\t\tmouseX,\n\t\t\t\t\tmagnification: localProps.magnification,\n\t\t\t\t\tdistance: localProps.distance,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{localProps.children}\n\t\t\t</DockContext.Provider>\n\t\t</div>\n\t);\n};\n\nexport interface DockIconProps extends JSX.HTMLAttributes<HTMLDivElement> {}\n\nexport const DockIcon: ParentComponent<DockIconProps> = (props) => {\n\tconst [localProps, forwardProps] = splitProps(props, [\"class\", \"children\"]);\n\n\tconst dockContext = useContext(DockContext);\n\tif (!dockContext) {\n\t\tthrow new Error(\"DockIcon must be used within a Dock\");\n\t}\n\n\tlet ref!: HTMLDivElement;\n\n\tconst distance = () => {\n\t\tconst bounds = ref?.getBoundingClientRect() ?? { x: 0, width: 0 };\n\t\t// track mouse position relative to icon till |150| units\n\t\treturn Math.min(\n\t\t\tMath.max(\n\t\t\t\tdockContext.mouseX() - bounds.x - bounds.width / 2,\n\t\t\t\t-1 * dockContext.distance,\n\t\t\t),\n\t\t\tdockContext.distance,\n\t\t);\n\t};\n\n\tconst baseWidth = 40;\n\n\tconst width = () =>\n\t\t((150 - Math.abs(distance())) / 150) *\n\t\t\t(dockContext.magnification - baseWidth) +\n\t\tbaseWidth;\n\n\treturn (\n\t\t<div\n\t\t\tref={ref}\n\t\t\tclass={cx(\n\t\t\t\tcss({\n\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\taspectRatio: \"1\",\n\t\t\t\t\tcursor: \"pointer\",\n\t\t\t\t\talignItems: \"center\",\n\t\t\t\t\tjustifyContent: \"center\",\n\t\t\t\t\tborderRadius: \"full\",\n\t\t\t\t}),\n\t\t\t\tlocalProps.class,\n\t\t\t)}\n\t\t\tstyle={{ width: `${width()}px` }}\n\t\t\t{...forwardProps}\n\t\t>\n\t\t\t{localProps.children}\n\t\t</div>\n\t);\n};\n"}